(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(t){if(t.ep)return;t.ep=!0;const a=n(t);fetch(t.href,a)}})();const u="http://api.openweathermap.org/data/2.5/weather";async function p(e,o){const n=`${u}?lat=${e}&lon=${o}&appid=${l}`;return await(await fetch(n)).json()}async function g(e){const o=`${u}?q=${e}&appid=${l}`,n=await fetch(o);if(n.status===200)return await n.json();d({message:"Cannot find city"})}const l="c6591c1b90538868d222b418445f608e",h=document.querySelector("#weatherIcon"),L=document.querySelector("#temperatureValue"),w=document.querySelector("#temperatureDescription"),S=document.querySelector("#myLocation"),s=document.querySelector("#geoNotification"),M=document.querySelector("#searchForm"),b=273;"geolocation"in navigator?navigator.geolocation.getCurrentPosition(D,d):(s.style.display="block",s.innerHTML="Your browser does not support geolocalization");async function D(e){let o=e.coords.latitude,n=e.coords.longitude;const r=await p(o,n);y(r)}function d(e){s.innerHTML=`${e.message}`,s.classList.remove("hidden")}function $(){s.classList.add("hidden")}function y(e){$();const o=e.weather[0];h.innerHTML=`<img src="./icons/${o.icon}.png"/>`,L.innerHTML=`${Math.floor(e.main.temp-b)} \xB0<span class="cSpan">C</span>`,w.innerHTML=o.description,S.innerHTML=`${e.name}, ${e.sys.country}`}M.addEventListener("submit",async e=>{e.preventDefault();const n=new FormData(e.target).get("search"),r=await g(n);r&&y(r)});function m(){var e=new Date,o=e.getHours(),n=e.getMinutes();e.getSeconds(),document.querySelectorAll(".clock")[0].innerHTML=r(o)+":"+r(n);function r(t){return t<10&&(t="0"+t),t}}m();setInterval(m,1e3);function v(){let e=new Date,o=e.getDay(),n=e.getDate(),r=e.getMonth();e.getFullYear();const t=["January","February","March","April","May","June","July","August","September","October","November","December"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["day","daynum","month","year"],f=[a[o],n,t[r]];for(let i=0;i<c.length;i++)document.getElementById(c[i]).firstChild.nodeValue=f[i]}v();
