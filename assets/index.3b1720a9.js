(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();const f="https://api.openweathermap.org/data/2.5/weather",p="https://api.openweathermap.org/data/2.5/forecast";async function T(e,n){const o=`${f}?lat=${e}&lon=${n}&appid=${d}`,t=await(await fetch(o)).json();return console.log(t),t}async function M(e){const n=`${f}?q=${e}&appid=${d}`,o=await fetch(n);if(o.status===200)return await o.json();y({message:"Cannot find city"})}async function $(e,n){const o=`${p}?lat=${e}&lon=${n}&appid=${d}`,t=await(await fetch(o)).json();return console.log(t),t}async function q(e){const n=`${p}?q=${e}&appid=${d}`,o=await fetch(n);if(o.status===200)return await o.json();y({message:"Cannot find city"})}const d="c6591c1b90538868d222b418445f608e",D=document.querySelector("#weatherIcon"),H=document.querySelector("#temperatureValue"),k=document.querySelector("#temperatureDescription"),v=document.querySelector("#myLocation"),u=document.querySelector("#geoNotification"),b=document.querySelector("#searchForm"),_=document.querySelector("#wind"),F=document.querySelector("#humidity"),I=document.querySelector("#sunRise"),E=document.querySelector("#sunSet"),C=document.querySelector("#background"),B=document.querySelector("#forecastTemp1"),N=document.querySelector("#forecastDay1"),O=document.querySelector("#forecastIcon1"),W=document.querySelector("#forecastTemp2"),A=document.querySelector("#forecastDay2"),R=document.querySelector("#forecastIcon2"),j=document.querySelector("#forecastTemp3"),P=document.querySelector("#forecastDay3"),J=document.querySelector("#forecastIcon3"),V=document.querySelector("#forecastTemp4"),K=document.querySelector("#forecastDay4"),U=document.querySelector("#forecastIcon4"),z=document.querySelector("#forecastTemp5"),Y=document.querySelector("#forecastDay5"),x=document.querySelector("#forecastIcon5"),i=273;"geolocation"in navigator?navigator.geolocation.getCurrentPosition(G,y):(u.style.display="block",u.innerHTML="Your browser does not support geolocalization");async function G(e){let n=e.coords.latitude,o=e.coords.longitude;const r=await T(n,o);h(r);const t=await $(n,o);S(t)}function y(e){u.innerHTML=`${e.message}`,u.classList.remove("hidden")}function g(){u.classList.add("hidden")}function h(e){g();const n=e.weather[0];D.innerHTML=`<img src="./icons/${n.icon}.svg"/>`,H.innerHTML=`${Math.floor(e.main.temp-i)} \xB0<span class="cSpan">C</span>`,k.innerHTML=n.description,v.innerHTML=`${e.name}, ${e.sys.country}`,_.innerHTML=`Wind speed - ${Math.floor(e.wind.speed)} m/s`,F.innerHTML=`Humidity - ${e.main.humidity}%`;let o=e.sys.sunrise*1e3,r=e.sys.sunset*1e3,t=new Date(o),s=new Date(r),c=t.toLocaleTimeString("sv-SE",{hour:"numeric",minute:"numeric"}),m=s.toLocaleTimeString("sv-SE",{hour:"numeric",minute:"numeric"});I.innerHTML=`Sunrise: ${c}`,E.innerHTML=`Sunset: ${m}`}function S(e){g();const n=e.list[12].weather[0];B.innerHTML=`${Math.floor(e.list[10].main.temp-i)} \xB0`,N.innerHTML=`${a(new Date(e.list[10].dt*1e3))}`,O.innerHTML=`<img src="./icons/forecast/${n.icon}.svg"/>`;const o=e.list[18].weather[0];W.innerHTML=`${Math.floor(e.list[18].main.temp-i)} \xB0`,A.innerHTML=`${a(new Date(e.list[18].dt*1e3))}`,R.innerHTML=`<img src="./icons/forecast/${o.icon}.svg"/>`;const r=e.list[26].weather[0];j.innerHTML=`${Math.floor(e.list[26].main.temp-i)} \xB0`,P.innerHTML=`${a(new Date(e.list[26].dt*1e3))}`,J.innerHTML=`<img src="./icons/forecast/${r.icon}.svg"/>`;const t=e.list[32].weather[0];V.innerHTML=`${Math.floor(e.list[32].main.temp-i)} \xB0`,K.innerHTML=`${a(new Date(e.list[32].dt*1e3))}`,U.innerHTML=`<img src="./icons/forecast/${t.icon}.svg"/>`;const s=e.list[39].weather[0];z.innerHTML=`${Math.floor(e.list[39].main.temp-i)} \xB0`,Y.innerHTML=`${a(new Date(e.list[39].dt*1e3))}`,x.innerHTML=`<img src="./icons/forecast/${s.icon}.svg"/>`}b.addEventListener("submit",async e=>{e.preventDefault();const o=new FormData(e.target).get("search"),r=await M(o);r&&h(r);const t=await q(o);t&&S(t)});function w(){var e=new Date,n=e.getHours(),o=e.getMinutes();e.getSeconds(),document.querySelectorAll(".clock")[0].innerHTML=r(n)+":"+r(o);function r(t){return t<10&&(t="0"+t),t}}w();L();setInterval(w,1e3);function Q(){let e=new Date,n=e.getDay(),o=e.getDate(),r=e.getMonth();const t=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["day","daynum","month","year"],m=[s[n],o,t[r]];for(let l=0;l<c.length;l++)document.getElementById(c[l]).firstChild.nodeValue=m[l]}Q();function a(e){const n={weekday:"long"};return e.toLocaleString("en-us",n)}function L(){const e={winter:{day:"winter_day_desktop.png",night:"winter_night_desktop.png"},spring:{day:"spring_day_desktop.png",night:"spring_night_desktop.png"},summer:{day:"summer_day_desktop.png",night:"summer_night_desktop.png"},fall:{day:"fall_day_desktop.png",night:"fall_night_desktop.png"}};let n=new Date().getMonth(),o=new Date().getHours(),r=o>=6&&o<18?"day":"night",t;n===11||n<2?t="winter":n>=2&&n<5?t="spring":n>=5&&n<8?t="summer":t="fall",C.style.backgroundImage="url('./public/backgrounds/"+e[t][r]+"')"}setInterval(L,36e5);
