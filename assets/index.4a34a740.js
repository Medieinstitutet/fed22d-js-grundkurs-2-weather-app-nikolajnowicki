(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();const d="https://api.openweathermap.org/data/2.5/weather",y="https://api.openweathermap.org/data/2.5/forecast";async function w(e,n){const o=`${d}?lat=${e}&lon=${n}&appid=${u}`,t=await(await fetch(o)).json();return console.log(t),t}async function S(e){const n=`${d}?q=${e}&appid=${u}`,o=await fetch(n);if(o.status===200)return await o.json();l({message:"Cannot find city"})}async function $(e,n){const o=`${y}?lat=${e}&lon=${n}&appid=${u}`,t=await(await fetch(o)).json();return console.log(t),t}async function M(e){const n=`${y}?q=${e}&appid=${u}`,o=await fetch(n);if(o.status===200)return await o.json();l({message:"Cannot find city"})}const u="c6591c1b90538868d222b418445f608e",T=document.querySelector("#weatherIcon"),q=document.querySelector("#temperatureValue"),F=document.querySelector("#temperatureDescription"),H=document.querySelector("#myLocation"),a=document.querySelector("#geoNotification"),D=document.querySelector("#searchForm"),b=document.querySelector("#wind"),v=document.querySelector("#humidity"),C=document.querySelector("#sunRise"),E=document.querySelector("#sunSet"),N=document.querySelector("#forecastTemp1"),k=document.querySelector("#forecastDay1"),W=document.querySelector("#forecastIcon1"),m=273;"geolocation"in navigator?navigator.geolocation.getCurrentPosition(A,l):(a.style.display="block",a.innerHTML="Your browser does not support geolocalization");async function A(e){let n=e.coords.latitude,o=e.coords.longitude;const r=await w(n,o);p(r);const t=await $(n,o);g(t)}function l(e){a.innerHTML=`${e.message}`,a.classList.remove("hidden")}function f(){a.classList.add("hidden")}function p(e){f();const n=e.weather[0];T.innerHTML=`<img src="./icons/${n.icon}.png"/>`,q.innerHTML=`${Math.floor(e.main.temp-m)} \xB0<span class="cSpan">C</span>`,F.innerHTML=n.description,H.innerHTML=`${e.name}, ${e.sys.country}`,b.innerHTML=`Wind - ${Math.floor(e.wind.speed)} m/s`,v.innerHTML=`Humidity - ${e.main.humidity}%`,C.innerHTML=e.sys.sunrise*1e3,E.innerHTML=e.sys.sunset}function g(e){f();const n=e.list[8].weather[0];N.innerHTML=`${Math.floor(e.list[8].main.temp-m)} \xB0`,k.innerHTML=`${O(new Date(e.list[6].dt*1e3))}`,W.innerHTML=`<img src="./icons/${n.icon}.png"/>`}D.addEventListener("submit",async e=>{e.preventDefault();const o=new FormData(e.target).get("search"),r=await S(o);r&&p(r);const t=await M(o);t&&g(t)});function h(){var e=new Date,n=e.getHours(),o=e.getMinutes();e.getSeconds(),document.querySelectorAll(".clock")[0].innerHTML=r(n)+":"+r(o);function r(t){return t<10&&(t="0"+t),t}}h();setInterval(h,1e3);function B(){let e=new Date,n=e.getDay(),o=e.getDate(),r=e.getMonth();const t=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["day","daynum","month","year"],L=[s[n],o,t[r]];for(let i=0;i<c.length;i++)document.getElementById(c[i]).firstChild.nodeValue=L[i]}B();function O(e){const n={weekday:"long"};return e.toLocaleString("en-us",n)}
