(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function o(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerpolicy&&(c.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?c.credentials="include":t.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(t){if(t.ep)return;t.ep=!0;const c=o(t);fetch(t.href,c)}})();const y="https://api.openweathermap.org/data/2.5/weather",f="https://api.openweathermap.org/data/2.5/forecast";async function M(e,n){const o=`${y}?lat=${e}&lon=${n}&appid=${d}`,t=await(await fetch(o)).json();return console.log(t),t}async function w(e){const n=`${y}?q=${e}&appid=${d}`,o=await fetch(n);if(o.status===200)return await o.json();m({message:"Cannot find city"})}async function $(e,n){const o=`${f}?lat=${e}&lon=${n}&appid=${d}`,t=await(await fetch(o)).json();return console.log(t),t}async function T(e){const n=`${f}?q=${e}&appid=${d}`,o=await fetch(n);if(o.status===200)return await o.json();m({message:"Cannot find city"})}const d="c6591c1b90538868d222b418445f608e",q=document.querySelector("#weatherIcon"),H=document.querySelector("#temperatureValue"),D=document.querySelector("#temperatureDescription"),F=document.querySelector("#myLocation"),u=document.querySelector("#geoNotification"),b=document.querySelector("#searchForm"),I=document.querySelector("#wind"),v=document.querySelector("#humidity"),C=document.querySelector("#sunRise"),E=document.querySelector("#sunSet"),N=document.querySelector("#forecastTemp1"),k=document.querySelector("#forecastDay1"),W=document.querySelector("#forecastIcon1"),A=document.querySelector("#forecastTemp2"),B=document.querySelector("#forecastDay2"),O=document.querySelector("#forecastIcon2"),R=document.querySelector("#forecastTemp3"),j=document.querySelector("#forecastDay3"),P=document.querySelector("#forecastIcon3"),J=document.querySelector("#forecastTemp4"),V=document.querySelector("#forecastDay4"),K=document.querySelector("#forecastIcon4"),U=document.querySelector("#forecastTemp5"),_=document.querySelector("#forecastDay5"),z=document.querySelector("#forecastIcon5"),i=273;"geolocation"in navigator?navigator.geolocation.getCurrentPosition(Y,m):(u.style.display="block",u.innerHTML="Your browser does not support geolocalization");async function Y(e){let n=e.coords.latitude,o=e.coords.longitude;const r=await M(n,o);g(r);const t=await $(n,o);h(t)}function m(e){u.innerHTML=`${e.message}`,u.classList.remove("hidden")}function p(){u.classList.add("hidden")}function g(e){p();const n=e.weather[0];q.innerHTML=`<img src="./icons/${n.icon}.png"/>`,H.innerHTML=`${Math.floor(e.main.temp-i)} \xB0<span class="cSpan">C</span>`,D.innerHTML=n.description,F.innerHTML=`${e.name}, ${e.sys.country}`,I.innerHTML=`Wind - ${Math.floor(e.wind.speed)} m/s`,v.innerHTML=`Humidity - ${e.main.humidity}%`,C.innerHTML=e.sys.sunrise*1e3,E.innerHTML=e.sys.sunset}function h(e){p();const n=e.list[12].weather[0];N.innerHTML=`${Math.floor(e.list[10].main.temp-i)} \xB0`,k.innerHTML=`${a(new Date(e.list[10].dt*1e3))}`,W.innerHTML=`<img src="./icons/${n.icon}.png"/>`;const o=e.list[18].weather[0];A.innerHTML=`${Math.floor(e.list[18].main.temp-i)} \xB0`,B.innerHTML=`${a(new Date(e.list[18].dt*1e3))}`,O.innerHTML=`<img src="./icons/${o.icon}.png"/>`;const r=e.list[26].weather[0];R.innerHTML=`${Math.floor(e.list[26].main.temp-i)} \xB0`,j.innerHTML=`${a(new Date(e.list[26].dt*1e3))}`,P.innerHTML=`<img src="./icons/${r.icon}.png"/>`;const t=e.list[32].weather[0];J.innerHTML=`${Math.floor(e.list[32].main.temp-i)} \xB0`,V.innerHTML=`${a(new Date(e.list[32].dt*1e3))}`,K.innerHTML=`<img src="./icons/${t.icon}.png"/>`;const c=e.list[39].weather[0];U.innerHTML=`${Math.floor(e.list[39].main.temp-i)} \xB0`,_.innerHTML=`${a(new Date(e.list[39].dt*1e3))}`,z.innerHTML=`<img src="./icons/${c.icon}.png"/>`}b.addEventListener("submit",async e=>{e.preventDefault();const o=new FormData(e.target).get("search"),r=await w(o);r&&g(r);const t=await T(o);t&&h(t)});function L(){var e=new Date,n=e.getHours(),o=e.getMinutes();e.getSeconds(),document.querySelectorAll(".clock")[0].innerHTML=r(n)+":"+r(o);function r(t){return t<10&&(t="0"+t),t}}L();setInterval(L,1e3);function x(){let e=new Date,n=e.getDay(),o=e.getDate(),r=e.getMonth();const t=["January","February","March","April","May","June","July","August","September","October","November","December"],c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["day","daynum","month","year"],S=[c[n],o,t[r]];for(let l=0;l<s.length;l++)document.getElementById(s[l]).firstChild.nodeValue=S[l]}x();function a(e){const n={weekday:"long"};return e.toLocaleString("en-us",n)}
