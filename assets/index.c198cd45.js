(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();const u="https://api.openweathermap.org/data/2.5/weather";async function p(e,n){const o=`${u}?lat=${e}&lon=${n}&appid=${l}`,t=await(await fetch(o)).json();return console.log(t),t}async function h(e){const n=`${u}?q=${e}&appid=${l}`,o=await fetch(n);if(o.status===200)return await o.json();d({message:"Cannot find city"})}const l="c6591c1b90538868d222b418445f608e",g=document.querySelector("#weatherIcon"),L=document.querySelector("#temperatureValue"),S=document.querySelector("#temperatureDescription"),w=document.querySelector("#myLocation"),c=document.querySelector("#geoNotification"),M=document.querySelector("#searchForm"),T=document.querySelector("#wind"),$=document.querySelector("#humidity"),b=document.querySelector("#sunRise"),q=document.querySelector("#sunSet"),H=273;"geolocation"in navigator?navigator.geolocation.getCurrentPosition(D,d):(c.style.display="block",c.innerHTML="Your browser does not support geolocalization");async function D(e){let n=e.coords.latitude,o=e.coords.longitude;const r=await p(n,o);m(r)}function d(e){c.innerHTML=`${e.message}`,c.classList.remove("hidden")}function v(){c.classList.add("hidden")}function m(e){v();const n=e.weather[0];g.innerHTML=`<img src="./icons/${n.icon}.png"/>`,L.innerHTML=`${Math.floor(e.main.temp-H)} \xB0<span class="cSpan">C</span>`,S.innerHTML=n.description,w.innerHTML=`${e.name}, ${e.sys.country}`,T.innerHTML=`Wind - ${Math.floor(e.wind.speed)} m/s`,$.innerHTML=`Humidity - ${e.main.humidity}%`,b.innerHTML=e.sys.sunrise,q.innerHTML=e.sys.sunset}M.addEventListener("submit",async e=>{e.preventDefault();const o=new FormData(e.target).get("search"),r=await h(o);r&&m(r)});function y(){var e=new Date,n=e.getHours(),o=e.getMinutes();e.getSeconds(),document.querySelectorAll(".clock")[0].innerHTML=r(n)+":"+r(o);function r(t){return t<10&&(t="0"+t),t}}y();setInterval(y,1e3);function N(){let e=new Date,n=e.getDay(),o=e.getDate(),r=e.getMonth();e.getFullYear();const t=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["day","daynum","month","year"],f=[s[n],o,t[r]];for(let a=0;a<i.length;a++)document.getElementById(i[a]).firstChild.nodeValue=f[a]}N();
